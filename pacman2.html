<canvas id="canvas" width="300" height="300"></canvas>
<script src="web-lib/processing.js"></script>
<script src="web-lib/functional-light.js"></script>
<script>
  let { append, cons, first, isEmpty, isList, length, rest } = functionalLight;

function make(data,attribute){
    return Object.assign({},data,attribute);
}

function sketchProc(processing){

    processing.setup = function(){
      processing.frameRate(10);
      processing.size(400, 400);
      processing.state = { x: 0, y: 0, ancho: 200, alto: 100 };
      noLoop();
    }

    processing.drawGame = function(world){
        processing.background(0,0,0);
        processing.fill(240,10,240);
    }

    processing.onTic = function (world) {
      return make(world, {});
    }
    
    
//NO CAMBIAR

    processing.draw = function () {
      processing.drawGame(processing.state);
      processing.state = processing.onTic(processing.state);
    };

    processing.keyPressed = function () {
      processing.state = processing.onKeyEvent(processing.state, processing.keyCode);
    }


    processing.mouseMoved = function () {
      processing.state = processing.onMouseEvent(processing.state,
        { action: "move", mouseX: processing.mouseX, mouseY: processing.mouseY });
    }

    processing.mouseClicked = function () {
      processing.state = processing.onMouseEvent(processing.state,
        { action: "click", mouseX: processing.mouseX, mouseY: processing.mouseY, mouseButton: processing.mouseButton });
    }

    processing.mouseDragged = function () {
      processing.state = processing.onMouseEvent(processing.state,
        { action: "drag", mouseX: processing.mouseX, mouseY: processing.mouseY, mouseButton: processing.mouseButton });
    }

    processing.mousePressed = function () {
      processing.state = processing.onMouseEvent(processing.state,
        { action: "press", mouseX: processing.mouseX, mouseY: processing.mouseY, mouseButton: processing.mouseButton });
    }

    processing.mouseReleased = function () {
      processing.state = processing.onMouseEvent(processing.state,
        { action: "release", mouseX: processing.mouseX, mouseY: processing.mouseY, mouseButton: processing.mouseButton });
    }

}

var canvas = document.getElementById("canvas");
var processingInstance = new Processing(canvas, sketchProc);
</script>